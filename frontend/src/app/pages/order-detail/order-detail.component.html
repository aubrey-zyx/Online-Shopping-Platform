<div class="container">
  <h2>Order Details</h2>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="order">
    <p><strong>Date Placed:</strong> {{ order.datePlaced }}</p>
    <p><strong>Status:</strong> {{ order.orderStatus }}</p>
    <p *ngIf="isAdmin"><strong>Username:</strong> {{ order.username }}</p>

    <h3>Order Items</h3>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>Product Name</th>
        <th>Quantity</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of order.orderItems">
        <td>{{ item.productName }}</td>
        <td>{{ item.quantity }}</td>
      </tr>
      </tbody>
    </table>

    <!-- Show buttons only if order status is PROCESSING -->
    <div *ngIf="order.orderStatus === 'PROCESSING'" class="order-actions">
      <button class="btn btn-danger" (click)="cancelOrder()">Cancel Order</button>
      <button *ngIf="isAdmin" class="btn btn-success" (click)="completeOrder()">Complete Order</button>
    </div>
  </div>
</div>
